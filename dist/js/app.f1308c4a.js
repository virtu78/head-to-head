(function(t){function e(e){for(var r,i,o=e[0],c=e[1],u=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},s={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/headtohead/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0ab4":function(t,e,n){},"0d7c":function(t,e,n){"use strict";var r=n("2c42"),s=n.n(r);s.a},"11df":function(t,e,n){"use strict";var r=n("857e"),s=n.n(r);s.a},"13a5":function(t,e,n){"use strict";var r=n("a13f"),s=n.n(r);s.a},2221:function(t,e,n){"use strict";var r=n("7b46"),s=n.n(r);s.a},2897:function(t,e,n){t.exports=n.p+"img/preloader.0831ddf4.gif"},"2c42":function(t,e,n){},"2f28":function(t,e,n){},"39c3":function(t,e,n){"use strict";var r=n("5896"),s=n.n(r);s.a},"3f2f":function(t,e,n){"use strict";var r=n("7044"),s=n.n(r);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i={name:"app",data:function(){return{}},components:{},created:function(){},mounted:function(){}},o=i,c=(n("13a5"),n("2877")),u=Object(c["a"])(o,s,a,!1,null,null,null),l=u.exports,d=n("2f62"),f=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.step_1,expression:"step_1"}],staticClass:"login-block"},[n("Input",{attrs:{label:"Почта",error:t.errorMail},on:{"input-changed":t.getMail}}),n("button",{on:{click:t.sendEmail}},[t._v("Продолжить")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.step_1,expression:"step_1 == false"}],staticClass:"login-block"},[n("Input",{attrs:{label:"Ссылка",error:t.errorUrl},on:{"input-changed":t.getUrl}}),n("button",{on:{click:t.sendUrl}},[t._v("Вход")])],1)])},m=[],g=(n("ac1f"),n("5319"),n("9911"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"input",attrs:{label:t.label}},[n("input",{ref:"inputValue",staticClass:"input__input",attrs:{type:"text",required:""},on:{input:function(e){return t.updateValue()}}}),n("span",{staticClass:"input__label"},[t._v(t._s(t.label))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"error"},[t._v(t._s(t.error))])])}),p=[],v={name:"Input",props:{label:{type:String,required:!1},error:{type:String,required:!1}},methods:{updateValue:function(){this.$emit("input-changed",this.$refs.inputValue.value)}}},b=v,_=(n("6493"),Object(c["a"])(b,g,p,!1,null,"84424886",null)),w=_.exports,k=n("8aa5"),C=n.n(k),y={name:"Login",components:{Input:w},props:{},data:function(){return{userId:null,email:null,hasError:!1,step_1:!0,errorMail:"",errorUrl:"",link:null}},methods:{getMail:function(t){this.email=t},getUrl:function(t){this.link=t},sendEmail:function(){var t=this,e={handleCodeInApp:!0,url:"https://historical-9258a.firebaseapp.com/signIn"};C.a.auth().sendSignInLinkToEmail(this.email,e).then((function(e){t.stepls})).catch((function(){return t.error="Аккаунт не найден, обратитесь к разработчику"}))},sendUrl:function(){var t=this;C.a.auth().signInWithEmailLink(this.email,this.link).then((function(e){e&&t.$router.replace("games")})).catch((function(){return t.errorUrl="Неправильная ссылка"}))}},mounted:function(){}},T=y,S=(n("aac9"),Object(c["a"])(T,h,m,!1,null,"a111a2a4",null)),E=(S.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{currentgame:t.currentgame,hasHeader:t.header},on:{update:function(e){return t.getGame(e)}}}),n("Preloader",{attrs:{data:!0}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"filters"},[n("div",{staticClass:"filters__col"},[n("Input",{attrs:{label:"Название"}})],1),n("div",{staticClass:"filters__col"},[n("Input")],1)]),n("nav",{staticClass:"tabsNav"},[n("router-link",{attrs:{to:"/all"}},[n("button",{staticClass:"tabsNav__button tabsNav__button--active"},[t._v("Все")])]),n("router-link",{attrs:{to:"/favorites"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Избранные")])]),n("router-link",{attrs:{to:"/mine"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Мои")])]),n("router-link",{attrs:{to:"/downloaded"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Загруженные")])]),n("router-link",{attrs:{to:"/created"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Создать")])])],1),n("div",{staticClass:"games"},t._l(t.logoFilterToSettings,(function(e,r){return n("GameCard",{key:r,staticClass:"games__item",attrs:{currentgame:t.currentgame,game:e},on:{update:function(e){return t.getGame(e)}}})})),1)])],1)}),j=[],I=(n("4de4"),n("4160"),n("c975"),n("d81d"),n("b0c0"),n("d3b7"),n("159b"),n("5530")),x=(n("96cf"),n("1da1")),O=n("d4ec"),L=n("bee2"),G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"header"},[n("div",{staticClass:"wrapper"},[t.hasHeader?n("h1",{staticClass:"header__title"},[t._v("HEAD-TO-HEAD")]):t._e(),t.hasHeader?n("button",{directives:[{name:"show",rawName:"v-show",value:t.isButtonEnabled,expression:"isButtonEnabled"}],staticClass:"play-button"},[n("router-link",{staticStyle:{color:"#fff"},attrs:{to:{name:"Game",params:{name:t.currentgame.name}}}},[n("font-awesome-icon",{attrs:{icon:"play"}}),t._v("Поехали! ")],1)],1):n("router-link",{attrs:{to:"/All"}},[n("button",{staticClass:"header__button"},[n("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1)]),n("div",{staticClass:"header__options"},[t.hasHeader?n("router-link",{attrs:{to:"/settings"}},[n("button",{staticClass:"header__button"},[n("font-awesome-icon",{attrs:{icon:"cog"}})],1)]):t._e(),n("button",{staticClass:"header__button",on:{click:t.signOut}},[n("font-awesome-icon",{attrs:{icon:"sign-out-alt"}})],1)],1)],1)])])},F=[],U={name:"Header",components:{},props:{hasHeader:Boolean,currentgame:Object,gameHasBeenClicked:Boolean},data:function(){return{isButtonEnabled:!1,canPass:!1}},watch:{currentgame:function(){this.canPass=this.currentgame.name.length>4,this.isButtonEnabled=this.canPass}},methods:{signOut:function(){var t=this;C.a.auth().signOut().then((function(){return t.$router.replace("/")}))}}},A=U,N=(n("dc09"),Object(c["a"])(A,G,F,!1,null,"d31b1c28",null)),P=N.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game-card",class:{"game-card__active":this.gameHasBeenClicked},attrs:{id:"gm"}},[n("div",{staticClass:"game-card__preview"},[n("img",{staticClass:"game-card__image",attrs:{src:t.game.logo},on:{click:t.gameClicked}}),n("button",{staticClass:"game-card__save-button"},[n("font-awesome-icon",{attrs:{icon:"save"}})],1)]),n("div",{staticClass:"game-card__info",on:{click:t.gameClicked}},[n("span",{staticClass:"game-card__title",on:{click:t.PlayedIncrement}},[t._v(t._s(t.game.name))]),n("div",{staticClass:"game-card__text",domProps:{innerHTML:t._s(t.game.description)}},[t._v("}")])]),n("div",{staticClass:"game-card__stat"},[n("div",{staticClass:"views-counter"},[n("div",{staticClass:"views-counter__icon"},[n("font-awesome-icon",{attrs:{icon:"eye"}})],1),n("div",{staticClass:"views-counter__value"},[t._v(t._s(t.game.played))])]),n("div",{staticClass:"favorite-counter"},[n("div",{staticClass:"favorite-counter__icon",class:{"favorite-counter__icon--active":this.hasBeenLiked},on:{click:t.like}},[n("font-awesome-icon",{attrs:{icon:"heart"}})],1),n("div",{staticClass:"favorite-counter__value"},[t._v(t._s(t.game.likes.length))])])])])},q=[],$=(n("7db0"),{name:"GameCard",props:{game:Object},data:function(){return{hasBeenLiked:!1,gameHasBeenClicked:!1,falsegame:{name:"game"}}},methods:{gameClicked:function(){var t=this,e=document.querySelectorAll("#gm");e.forEach((function(e){t.selected=e,e.addEventListener("click",t.showPlayButton())}))},showPlayButton:function(){this.gameHasBeenClicked?this.$emit("update",this.falsegame):this.$emit("update",this.game),this.gameHasBeenClicked=!this.gameHasBeenClicked},addLike:function(){var t=function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"SetLike",value:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e,n){var r,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){s.db.firestore().collection("games").where("name","==",e).get().then((function(e){t(e.docs[0].id)}))}));case 2:r=t.sent,this.db.firestore().collection("games").doc(r).update({likes:C.a.firestore.FieldValue.arrayUnion(n)});case 4:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}(),e=new t(C.a);console.log(this.game),e.SetLike(this.game.name,this.currentUserId).then((function(t){}))},removeLike:function(){var t=function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"RemoveLike",value:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e,n){var r,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){s.db.firestore().collection("games").where("name","==",e).get().then((function(e){t(e.docs[0].id)}))}));case 2:r=t.sent,this.db.firestore().collection("games").doc(r).update({likes:C.a.firestore.FieldValue.arrayRemove(n)});case 4:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}(),e=new t(C.a);console.log(this.game),e.RemoveLike(this.game.name,this.currentUserId).then((function(t){}))},like:function(){this.hasBeenLiked?this.game.likes.pop()&&this.removeLike():this.game.likes.push(this.currentUserId)&&this.addLike(),this.hasBeenLiked=!this.hasBeenLiked},PlayedIncrement:function(){var t=function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"PlayedInc",value:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){r.db.firestore().collection("games").where("name","==",e).get().then((function(e){t(e.docs[0].id)}))}));case 2:n=t.sent,this.db.firestore().collection("games").doc(n).update({played:C.a.firestore.FieldValue.increment(1)});case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),e=new t(C.a);console.log(this.game),e.PlayedInc(this.game.name).then((function(t){}))}},computed:Object(I["a"])({},Object(d["b"])({user:function(t){return t.user}}),{currentUserEmail:function(){return this.$store.getters.currentUserEmail},currentUserId:function(){return this.$store.getters.currentUserId},logoFilterToVisible:function(){return this.$store.getters.logoFilterToVisible}}),created:function(){var t=this,e=this.game.likes.find((function(e){return e===t.currentUserId}));console.log(e),e&&(this.hasBeenLiked=!0)},mounted:function(){var t=C.a.auth();this.$store.commit("SET_USER",t)}}),M=$,B=(n("c324"),Object(c["a"])(M,R,q,!1,null,"918b02de",null)),H=B.exports,V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return 0==t.data?r("div",{staticClass:"preloader"},[r("img",{attrs:{src:n("2897"),alt:"preloader"}})]):t._e()},D=[],z={name:"Preloader",components:{},props:["data"],data:function(){return{}}},K=z,Z=(n("a1a1"),Object(c["a"])(K,V,D,!1,null,"000f6a2e",null)),Q=Z.exports,W={name:"All",components:{Header:P,Input:w,GameCard:H,Preloader:Q},props:{},data:function(){return{header:!0,hasBeenCliked:!1,selected:null,currentgame:{name:"game"}}},methods:{getGame:function(t){this.currentgame=t,console.log(this.currentgame)},gameClicked:function(){var t=this,e=document.querySelectorAll("#gm");e.forEach((function(e){t.selected=e,console.log(t.selected),e.addEventListener("click",t.highlight())}))},highlight:function(){this.selected.classList.remove("games__item"),this.selected.classList.add("games__active")},Check:function(){var t=function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"Search",value:function(t,e){var n=this;return new Promise((function(r){n.db.firestore().collection(t).get().then((function(t){var n=t.docs,s=n.filter(e);r(s)}))}))}}]),t}(),e=new t(C.a);e.Search("accounts",(function(t){return" Админ - я"===t.data().name})).then((function(t){t.forEach((function(t){return console.log(t.data())}))}))},SuperCheck:function(){var t=C.a.storage(),e=(t.ref(),function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"UserExistCheck",value:function(t){var e=this;return new Promise((function(n){e.db.auth().fetchSignInMethodsForEmail(t).then((function(t){t.length>0?n(1):n(-1)}))}))}},{key:"Search",value:function(t,e){var n=this;return new Promise((function(r){n.db.firestore().collection(t).get().then((function(t){var n=t.docs,s=n.filter(e);r(s)}))}))}},{key:"SetLike",value:function(t,e){var n=this;return new Promise((function(r){n.db.firestore().collection("games").doc(t).update({likes:C.a.firestore.FieldValue.arrayUnion(e)})}))}},{key:"GetUserID",value:function(t){var e=this;return new Promise((function(n){e.Search("accounts",(function(t){return t})).then((function(r){e.UserExistCheck(t).then((function(e){if(-1===e)n("");else{for(var s=0;s<r.length;s++)if(-1!==String(r[s].data().name).indexOf(t)){n(r[s].id);break}n("")}}))}))}))}},{key:"GetLikesCount",value:function(t,e){var n=this;return new Promise((function(r){n.Search(t,e).then((function(t){t.map((function(t){return t.data().likes.length}));t.forEach((function(t){return console.log(t.data().likes.length)}))}))}))}},{key:"GetGamesInfo",value:function(e,n){var r=this;return new Promise((function(s){r.db.firestore().collection(e).get().then((function(a){for(var i=a.docs,o=i.filter(n),c=o.map((function(t){return t.data()})),u=[],l=0;l<o.length;l++)(function(){var n=Object(x["a"])(regeneratorRuntime.mark((function n(r,a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:setTimeout((function(){C.a.firestore().collection(e).doc(o[r].id).collection("questions").get().then((function(e){var n=e.docs.map((function(t){return t.data()})),i=new t(a);function l(t){return d.apply(this,arguments)}function d(){return d=Object(x["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Promise((function(t){i.GetUserID("virtu78@yandex.ru").then((function(e){var n;n=e.length>0,t(n)}))})),t.next=3,n;case 3:c[r].isliked=t.sent,console.log(c[r].isliked),console.log(r);case 6:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}l(i),u.push({questions:n,settings:c[r]}),r>=o.length-1&&(console.log("resolve"),s(u))}))}),10);case 1:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}})()(l,r.db)}))}))}}]),t}()),n=new e(C.a);n.GetGamesInfo("games",(function(t){return t})).then((function(t){console.log(t)}))}},computed:Object(I["a"])({},Object(d["b"])({user:function(t){return t.user}}),{currentUserEmail:function(){return this.$store.getters.currentUserEmail},currentUserId:function(){return this.$store.getters.currentUserId},likesFilterToVisible:function(){return this.$store.getters.likesFilterToVisible},likesFilterToSettingsIsLiked:function(t){return t.likesFilterToVisible.map((function(t){return t.settings.isliked}))},logoFilterToVisible:function(){return this.$store.getters.logoFilterToVisible},logoFilterToSettings:function(t){return t.logoFilterToVisible.map((function(t){return t.settings}))}}),created:function(){this.$store.dispatch("initLogo")},mounted:function(){var t=C.a.auth();this.$store.commit("SET_USER",t)}},J=W,Y=(n("db81"),Object(c["a"])(J,E,j,!1,null,"43930eea",null)),X=Y.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{hasHeader:t.header}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"settings"},[n("div",{staticClass:"settings__item"},[n("Input",{attrs:{label:"Почта"}})],1),n("div",{staticClass:"settings__item"},[n("Input",{attrs:{label:"Ключ устройства"}})],1),n("div",{staticClass:"settings__item"},[n("Input",{attrs:{label:"Окончание срока действия тарифа"}})],1),n("div",{staticClass:"settings__item"},[n("Input",{attrs:{label:"Дата блокировки"}})],1)])])],1)},et=[],nt={name:"Settings",components:{Header:P,Input:w},props:{},data:function(){return{header:!1}},computed:Object(I["a"])({},Object(d["b"])(["acunte"])),created:function(){this.$store.dispatch("initAcunte")}},rt=nt,st=(n("dc64"),Object(c["a"])(rt,tt,et,!1,null,"3a1b351e",null)),at=st.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{currentgame:t.currentgame,hasHeader:t.header},on:{update:function(e){return t.getGame(e)}}}),n("Preloader",{attrs:{data:!0}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"filters"},[n("div",{staticClass:"search__options"},[n("Input",{attrs:{label:""},on:{"input-changed":t.getSearch}}),n("button",{staticClass:"icon",attrs:{"disabled:true":""},on:{click:t.searschbyTitle}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"search"}})],1)],1),n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSubject,expression:"selectedSubject"}],staticClass:"filters__col",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSubject=e.target.multiple?n:n[0]}}},[n("option",[t._v("Все предметы")]),n("option",[t._v("Алгебра")]),n("option",[t._v("Английский язык")]),n("option",[t._v("Биология")]),n("option",[t._v("География")]),n("option",[t._v("Геометрия")]),n("option",[t._v("Демо-версия")]),n("option",[t._v("Информатика")]),n("option",[t._v("История")]),n("option",[t._v("Литература")]),n("option",[t._v("Математика")]),n("option",[t._v("Обществознание")]),n("option",[t._v("Окружающий мир")]),n("option",[t._v("Робототехника")]),n("option",[t._v("Русский язык")]),n("option",[t._v("Физика")]),n("option",[t._v("Химия")])])])]),n("nav",{staticClass:"tabsNav"},[n("router-link",{attrs:{to:"/all"}},[n("button",{staticClass:"tabsNav__button tabsNav__button--active"},[t._v("Все")])]),n("router-link",{attrs:{to:"/favorites"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Избранные")])]),n("router-link",{attrs:{to:"/mine"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Мои")])]),n("router-link",{attrs:{to:"/downloaded"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Загруженные")])]),n("router-link",{attrs:{to:"/created"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Создать")])])],1),n("div",{staticClass:"games"},t._l(t.filteredItems,(function(e,r){return n("GameCard",{key:r,staticClass:"games__item",attrs:{currentgame:t.currentgame,game:e},on:{update:function(e){return t.getGame(e)}}})})),1)])],1)},ot=[],ct=(n("a630"),n("3ca3"),n("841c"),n("1276"),{name:"All",components:{Header:P,Input:w,GameCard:H,Preloader:Q},props:{},data:function(){return{header:!0,hasBeenCliked:!1,selectedSubject:"Все предметы",search:null,selected:null,currentgame:{name:"game"}}},methods:{getGame:function(t){this.currentgame=t,console.log(this.currentgame)},gameClicked:function(){var t=this,e=document.querySelectorAll("#gm");e.forEach((function(e){t.selected=e,console.log(t.selected),e.addEventListener("click",t.highlight())}))},highlight:function(){this.selected.classList.remove("games__item"),this.selected.classList.add("games__active")},getSearch:function(t){this.search=t.toLowerCase(),0==this.search.length?this.search=null:/[0-9]/.test(this.search)?this.search=t.replace(/[^0-9]/g,""):this.search=t.replace(/[^A-Za-zА-Яа-яЁё]/g,"").toLowerCase()},searschbyTitle:function(){console.log(this.search)}},computed:Object(I["a"])({},Object(d["b"])({user:function(t){return t.user}}),{currentUserEmail:function(){return this.$store.getters.currentUserEmail},currentUserId:function(){return this.$store.getters.currentUserId},likesFilterToVisible:function(){return this.$store.getters.likesFilterToVisible},likesFilterToSettingsIsLiked:function(t){return t.likesFilterToVisible.map((function(t){return t.settings.isliked}))},logoFilterToVisible:function(){return this.$store.getters.logoFilterToVisible},titles:function(t){return t.logoFilterToSettings.map((function(t){return t.name}))},logoFilterToSettings:function(t){return t.logoFilterToVisible.map((function(t){return t.settings}))},arrUniqueMix:function(){var t=this,e=[];return Array.from(this.logoFilterToSettings).forEach((function(n,r){n.tagList=t.newfilteredItems[r].tagList,e.push(n)})),e},newfilteredItems:function(){for(var t,e,n=[],r=0;r<this.titles.length;r++){t=this.titles[r].replace(/[,.:-]/g," "),e=t.replace(/\s+/g," ").replace(/^\s/,"").replace(/\s$/,"");var s=/\s* \s*/,a=e.split(s),i={tagList:a};n.push(i)}return n},filteredItems:function(){var t,e=this;return t="Все предметы"!==this.selectedSubject?this.logoFilterToToSbjct:null!==this.search?this.arrUniqueMix.filter((function(t){return t.tagList.find((function(t){return t.toLowerCase()===e.search}))})):this.arrUniqueMix,t},logoFilterToToSbjct:function(){var t=this;return this.logoFilterToSettings.filter((function(e){return e.subject===t.selectedSubject}))}}),created:function(){this.$store.dispatch("initLogo")},mounted:function(){var t=C.a.auth();this.$store.commit("SET_USER",t)}}),ut=ct,lt=(n("11df"),Object(c["a"])(ut,it,ot,!1,null,"4e3f3d27",null)),dt=lt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{currentgame:t.currentgame,hasHeader:t.header},on:{update:function(e){return t.getGame(e)}}}),n("Preloader",{attrs:{data:!0}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"filters"},[n("div",{staticClass:"search__options"},[n("Input",{attrs:{label:""},on:{"input-changed":t.getSearch}}),n("button",{staticClass:"icon",attrs:{"disabled:true":""},on:{click:t.searschbyTitle}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"search"}})],1)],1),n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSubject,expression:"selectedSubject"}],staticClass:"filters__col",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSubject=e.target.multiple?n:n[0]}}},[n("option",[t._v("Все предметы")]),n("option",[t._v("Алгебра")]),n("option",[t._v("Английский язык")]),n("option",[t._v("Биология")]),n("option",[t._v("География")]),n("option",[t._v("Геометрия")]),n("option",[t._v("Демо-версия")]),n("option",[t._v("Информатика")]),n("option",[t._v("История")]),n("option",[t._v("Литература")]),n("option",[t._v("Математика")]),n("option",[t._v("Обществознание")]),n("option",[t._v("Окружающий мир")]),n("option",[t._v("Робототехника")]),n("option",[t._v("Русский язык")]),n("option",[t._v("Физика")]),n("option",[t._v("Химия")])])])]),n("nav",{staticClass:"tabsNav"},[n("router-link",{attrs:{to:"/all"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Все")])]),n("router-link",{attrs:{to:"/favorites"}},[n("button",{staticClass:"tabsNav__button tabsNav__button--active"},[t._v("Избранные")])]),n("router-link",{attrs:{to:"/mine"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Мои")])]),n("router-link",{attrs:{to:"/downloaded"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Загруженные")])]),n("router-link",{attrs:{to:"/created"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Создать")])])],1),n("div",{staticClass:"games"},t._l(t.filteredItems,(function(e,r){return n("GameCard",{key:r,staticClass:"games__item",attrs:{currentgame:t.currentgame,game:e},on:{update:function(e){return t.getGame(e)}}})})),1)])],1)},ht=[],mt=(n("caad"),n("2532"),{name:"Favorites",components:{Header:P,Input:w,GameCard:H,Preloader:Q},props:{},data:function(){return{header:!0,selectedItem:null,hasBeenLiked:!1,selectedSubject:"Все предметы",search:null,currentgame:{name:"game"}}},methods:{getGame:function(t){this.currentgame=t,console.log(this.currentgame)},gameClicked:function(){var t=this,e=document.querySelectorAll("#gm");e.forEach((function(e){t.selected=e,console.log(t.selected),e.addEventListener("click",t.highlight())}))},highlight:function(){this.selected.classList.remove("games__item"),this.selected.classList.add("games__active")},getSearch:function(t){this.search=t.toLowerCase(),0==this.search.length?this.search=null:/[0-9]/.test(this.search)?this.search=t.replace(/[^0-9]/g,""):this.search=t.replace(/[^A-Za-zА-Яа-яЁё]/g,"").toLowerCase()},searschbyTitle:function(){console.log(this.search)},removeLike:function(){var t=function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"RemoveLike",value:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e,n){var r,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){s.db.firestore().collection("games").where("name","==",e).get().then((function(e){t(e.docs[0].id)}))}));case 2:r=t.sent,this.db.firestore().collection("games").doc(r).update({likes:C.a.firestore.FieldValue.arrayRemove(n)});case 4:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}(),e=new t(C.a);console.log(this.game),e.RemoveLike(this.game.name,this.currentUserId).then((function(t){}))},like:function(){this.game.likes.pop()&&this.removeLike()}},computed:Object(I["a"])({},Object(d["b"])({user:function(t){return t.user}}),{currentUserEmail:function(){return this.$store.getters.currentUserEmail},currentUserId:function(){return this.$store.getters.currentUserId},logoFilterToLiked:function(t){return t.filteredItems.filter((function(e){return e.likes.includes(t.currentUserId)}))},logoFilterToVisible:function(){return this.$store.getters.logoFilterToVisible},titles:function(t){return t.logoFilterToSettings.map((function(t){return t.name}))},logoFilterToSettings:function(t){return t.logoFilterToVisible.map((function(t){return t.settings}))},arrUniqueMix:function(){var t=this,e=[];return Array.from(this.logoFilterToSettings).forEach((function(n,r){n.tagList=t.newfilteredItems[r].tagList,e.push(n)})),e},newfilteredItems:function(){for(var t,e,n=[],r=0;r<this.titles.length;r++){t=this.titles[r].replace(/[,.:-]/g," "),e=t.replace(/\s+/g," ").replace(/^\s/,"").replace(/\s$/,"");var s=/\s* \s*/,a=e.split(s),i={tagList:a};n.push(i)}return n},filteredItems:function(){var t,e=this;return t="Все предметы"!==this.selectedSubject?this.logoFilterToToSbjct:null!==this.search?this.arrUniqueMix.filter((function(t){return t.tagList.find((function(t){return t.toLowerCase()===e.search}))})):this.arrUniqueMix,t},logoFilterToToSbjct:function(){var t=this;return this.logoFilterToSettings.filter((function(e){return e.subject===t.selectedSubject}))}}),created:function(){this.$store.dispatch("initLogo")},mounted:function(){var t=C.a.auth();this.$store.commit("SET_USER",t)}}),gt=mt,pt=(n("e4a7"),Object(c["a"])(gt,ft,ht,!1,null,"848fc388",null)),vt=pt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{hasHeader:t.header}}),n("Preloader",{attrs:{data:!0}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"filters"},[n("div",{staticClass:"filters__col"},[n("Input",{attrs:{label:"Название"}})],1),n("div",{staticClass:"filters__col"},[n("Input")],1)]),n("nav",{staticClass:"tabsNav"},[n("router-link",{attrs:{to:"/all"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Все")])]),n("router-link",{attrs:{to:"/favorites"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Избранные")])]),n("router-link",{attrs:{to:"/mine"}},[n("button",{staticClass:"tabsNav__button tabsNav__button--active"},[t._v("Мои")])]),n("router-link",{attrs:{to:"/downloaded"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Загруженные")])]),n("router-link",{attrs:{to:"/created"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Создать")])])],1),n("div",{staticClass:"games"},[n("div",{staticClass:"games__item"},[n("GameCard")],1),n("div",{staticClass:"games__item"},[n("GameCard")],1),n("div",{staticClass:"games__item"},[n("GameCard")],1)])])],1)},_t=[],wt={name:"Mine",components:{Header:P,Input:w,GameCard:H,Preloader:Q},props:{},data:function(){return{header:!0}},mounted:function(){var t=C.a.auth();console.log(t)}},kt=wt,Ct=(n("3f2f"),Object(c["a"])(kt,bt,_t,!1,null,"f2061922",null)),yt=Ct.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{hasHeader:t.header}}),n("Preloader",{attrs:{data:!0}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"filters"},[n("div",{staticClass:"filters__col"},[n("Input",{attrs:{label:"Название"}})],1),n("div",{staticClass:"filters__col"},[n("Input")],1)]),n("nav",{staticClass:"tabsNav"},[n("router-link",{attrs:{to:"/all"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Все")])]),n("router-link",{attrs:{to:"/favorites"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Избранные")])]),n("router-link",{attrs:{to:"/mine"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Мои")])]),n("router-link",{attrs:{to:"/downloaded"}},[n("button",{staticClass:"tabsNav__button tabsNav__button--active"},[t._v("Загруженные")])]),n("router-link",{attrs:{to:"/created"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Создать")])])],1),n("div",{staticClass:"games"},[n("div",{staticClass:"games__item"},[n("GameCard")],1),n("div",{staticClass:"games__item"},[n("GameCard")],1)])])],1)},St=[],Et={name:"Downloaded",components:{Header:P,Input:w,GameCard:H,Preloader:Q},props:{},data:function(){return{header:!0}},mounted:function(){var t=C.a.auth();console.log(t)}},jt=Et,It=(n("39c3"),Object(c["a"])(jt,Tt,St,!1,null,"3a353444",null)),xt=It.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%"},style:t.styles},[n("div",{staticClass:"header"},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"header__options"},[n("div",{staticClass:"circle"},[n("router-link",{attrs:{to:"/All"}},[n("button",{staticClass:"header__buttontimes"},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)])],1),n("div",{staticClass:"circle"},[n("button",{staticClass:"header__buttonleftarrow",on:{click:t.prevQuestions}},[n("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1)])]),n("div",{staticClass:"circle"},[n("button",{staticClass:"header__buttonrightarrow",on:{click:t.nextQuestions}},[n("font-awesome-icon",{attrs:{icon:"arrow-right"}})],1)])])]),n("div",{staticClass:"game-card"},[n("div",{staticClass:"main"},[n("div",{staticStyle:{margin:"auto"}},[t.current>=0?n("p",{staticClass:"game-card__title"},[n("span",{staticClass:"bold"},[t._v(" Вопрос ")]),n("span",{staticClass:"colored"},[t._v(t._s(t.current+1)+"/"+t._s(this.getlogoFilterToGame.questions.length))])]):t._e(),t.current>=0?n("p",{staticClass:"game-card__title"},[n("span",{staticClass:"semibold"},[t._v(t._s(this.getlogoFilterToGame.questions[t.current].text))])]):t._e()]),n("div",{staticClass:"game-card__preview",attrs:{id:"div"}},[t.current<0?n("img",{staticClass:"game-card__image",attrs:{src:this.getlogoFilterToGame.settings.logo}}):t._e(),0===t.current?n("video",{staticClass:"game-card__video",attrs:{id:"image",controls:"",src:t.img},on:{click:t.reloadManual}}):t._e(),t._v('" '),t.current>0?n("video",{staticClass:"game-card__video",attrs:{id:"image",controls:"",src:t.img},on:{click:t.reloadManual}}):t._e(),t._v('" '),t.current>=0?n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn-group__answers",attrs:{id:"first"},on:{click:function(e){return t.getAnswer()}}},[t._v(" "+t._s(this.getlogoFilterToGametAnswer[0].text)+" ")]),n("button",{staticClass:"btn-group__answers",attrs:{id:"second"},on:{click:function(e){return t.getAnswer()}}},[t._v(" "+t._s(this.getlogoFilterToGametAnswer[1].text)+" ")]),n("button",{staticClass:"btn-group__answers",attrs:{id:"third"},on:{click:function(e){return t.getAnswer()}}},[t._v(" "+t._s(this.getlogoFilterToGametAnswer[2].text)+" ")]),n("button",{staticClass:"btn-group__answers",attrs:{id:"fourth"},on:{click:function(e){return t.getAnswer()}}},[t._v(" "+t._s(this.getlogoFilterToGametAnswer[3].text)+" ")])]):t._e()]),t.current>=0&&0===this.getlogoFilterToGametAnswer.length?n("div",{staticClass:"b-marquee",attrs:{id:"marquee"},on:{click:t.unvisible}},[n("div",{staticClass:"b-marquee__text"},[t._v("Нажмите на видеоплеере и получите правильный ответ Нажмите на этой строке и она исчезнет")])]):t._e(),n("div",{staticClass:"game-card__preview"},[t.current<0?n("h2",{staticClass:"game-card__title"},[t._v(t._s(t.$route.params.name))]):t._e()])])])])},Lt=[],Gt=(n("9c30"),{name:"Game",props:{},components:{},data:function(){return{current:-1,buttonId:null,img:null,isShowPre:!0,isShowPost:!0}},methods:{nextQuestions:function(){this.current<this.getlogoFilterToGame.questions.length-1&&(this.current++,console.log(this.current),this.current>0&&0!==this.getlogoFilterToGametAnswer.length?this.resetButtons():console.log("oops, no buttons?")),setTimeout(this.reloadPrevNext,500)},prevQuestions:function(){this.current>0&&(this.current--,this.current>0&&0!==this.getlogoFilterToGametAnswer.length?this.resetButtons():console.log("oops, no buttons?")),setTimeout(this.reloadPrevNext,500)},reloadPrevNext:function(){var t=this;this.getMedia(),setTimeout(this.getPreImg,1e3),this.isShowPre=!1,this.$nextTick((function(){console.log(t.isShowPre)}))},reloadManual:function(){var t=this;this.getMedia(),setTimeout(this.getPostImg,500),this.isShowPost=!1,this.$nextTick((function(){console.log(t.isShowPost)}))},unvisible:function(){document.querySelector("#marquee").remove()},resetButtons:function(){document.getElementById("first").disabled=!1,document.getElementById("second").disabled=!1,document.getElementById("third").disabled=!1,document.getElementById("fourth").disabled=!1,document.querySelector("#first").setAttribute("class","btn-group__answers"),document.querySelector("#second").setAttribute("class","btn-group__answers"),document.querySelector("#third").setAttribute("class","btn-group__answers"),document.querySelector("#fourth").setAttribute("class","btn-group__answers")},buttonDisable:function(){document.getElementById("first").disabled=!0,document.getElementById("second").disabled=!0,document.getElementById("third").disabled=!0,document.getElementById("fourth").disabled=!0},getWrong:function(){for(var t=document.querySelectorAll("button"),e=this.correctAnswer.replace(/[^A-Za-zА-Яа-яЁё]/g,""),n=0;n<t.length;n++){var r=t[n].innerHTML.replace(/[^A-Za-zА-Яа-яЁё]/g,"");r===e&&t[n].setAttribute("class","btn-group__answers--wrong")}},getPostImg:function(){this.img=this.postMedia},getPreImg:function(){this.img=this.preMedia},getAnswer:function(){var t=this;this.getMedia();for(var e=document.querySelectorAll("button"),n=function(n){var r=t;e[n].addEventListener("click",(function(t){var e;this.buttonId=t.target.getAttribute("id");var n=r.correctAnswer.replace(/[^A-Za-zА-Яа-яЁё]/g,"");switch(this.buttonId){case"first":e=document.querySelector("#first").innerHTML.replace(/[^A-Za-zА-Яа-яЁё]/g,""),e!==n&&document.querySelector("#first").classList.add("btn-group__answers--active");break;case"second":e=document.querySelector("#second").innerHTML.replace(/[^A-Za-zА-Яа-яЁё]/g,""),e!==n&&document.querySelector("#second").classList.add("btn-group__answers--active");break;case"third":e=document.querySelector("#third").innerHTML.replace(/[^A-Za-zА-Яа-яЁё]/g,""),e!==n&&document.querySelector("#third").classList.add("btn-group__answers--active");break;case"fourth":e=document.querySelector("#fourth").innerHTML.replace(/[^A-Za-zА-Яа-яЁё]/g,""),e!==n&&document.querySelector("#fourth").classList.add("btn-group__answers--active");break;default:console.log("it is arrow button")}}))},r=0;r<e.length;r++)n(r);setTimeout(this.getWrong,500),setTimeout(this.reloadManual,500),setTimeout(this.buttonDisable,500)},getMedia:function(){var t=this,e=this,n=function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"GetDownloadLink",value:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){n.db.storage().ref().child(e).getDownloadURL().then((function(e){t(e)})).catch((function(e){t("xxx.background.png")}))})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"LoadQuestions",value:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(n){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(n){var s,a,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.current,a=[],console.log(e.getlogoFilterToGame.questions.length),t.next=5,r.GetDownloadLink(e.getlogoFilterToGame.questions[s].preMedia);case 5:return i=t.sent,t.next=8,r.GetDownloadLink(e.getlogoFilterToGame.questions[s].postMedia);case 8:o=t.sent,c={answers:e.getlogoFilterToGame.questions[s].answers,penalty:e.getlogoFilterToGame.questions[s].penalty,points:e.getlogoFilterToGame.questions[s].points,position:e.getlogoFilterToGame.questions[s].position,postMedia:o,postType:e.getlogoFilterToGame.questions[s].postType,preMedia:i,preType:e.getlogoFilterToGame.questions[s].preType,text:e.getlogoFilterToGame.questions[s].text},a.push(c),console.log(a),u={settings:e.getlogoFilterToGame.settings,questions:a},n(u);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()}]),t}(),r=new n(C.a);r.LoadQuestions(e.getlogoFilterToGame.settings.name).then((function(e){t.$store.commit("SET_MEDIA",e),console.log(e)}))}},computed:Object(I["a"])({styles:function(){return{"background-image":"url("+this.defaultBackground+")","background-repeat":"round","background-size":"cover"}}},Object(d["b"])(["defaultBackground","media"]),{logoFilterToVisible:function(){return this.$store.getters.logoFilterToVisible},getlogoFilterToGame:function(){var t=this;return this.logoFilterToVisible.filter((function(e){return e.settings.name===t.$route.params.name}))[0]},getlogoFilterToGametAnswer:function(){var t=this.getlogoFilterToGame.questions[this.current].answers;return t.sort((function(t,e){return t.text>e.text?1:t.text<e.text?-1:0})),t},getlogoFilterToGameCorrectAnswer:function(){return this.getlogoFilterToGame.questions[this.current].answers.filter((function(t){return t.correct}))},getcorrectAnswer:function(){return this.getlogoFilterToGameCorrectAnswer.map((function(t){return t.text}))},correctAnswer:function(){return this.getcorrectAnswer[0]},preMedia:function(){return this.$store.getters.preMedia},postMedia:function(){return this.$store.getters.postMedia}}),created:function(){this.$store.dispatch("initLogo")},mounted:function(){C.a.auth()},updated:function(){console.log("updated")}}),Ft=Gt,Ut=(n("2221"),Object(c["a"])(Ft,Ot,Lt,!1,null,null,null)),At=Ut.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{hasHeader:t.header}}),n("Preloader",{attrs:{data:!0}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"filters"},[n("div",{staticClass:"filters__col"},[n("Input")],1)]),n("nav",{staticClass:"tabsNav"},[n("router-link",{attrs:{to:"/all"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Все")])]),n("router-link",{attrs:{to:"/favorites"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Избранные")])]),n("router-link",{attrs:{to:"/mine"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Мои")])]),n("router-link",{attrs:{to:"/downloaded"}},[n("button",{staticClass:"tabsNav__button"},[t._v("Загруженные")])]),n("router-link",{attrs:{to:"/created"}},[n("button",{staticClass:"tabsNav__button tabsNav__button--active"},[t._v("Создать")])])],1),n("div",{staticClass:"create-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show_1,expression:"show_1"}],staticClass:"item-block"},[n("Input",{attrs:{label:"Введите название игры"},on:{"input-changed":t.getDescription}}),n("button",{on:{click:t.boom}},[t._v("Продолжить")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.show_2,expression:"show_2"}],staticClass:"item-block"},[n("Input",{attrs:{label:"Введите описание игры"},on:{"input-changed":t.getName}}),n("button",{on:{click:t.tram}},[t._v("Продолжить")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.show_3,expression:"show_3"}],staticClass:"item-block"},[n("label",[t._v("Аватар игры "),n("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}})]),n("button",{on:{click:function(e){return t.upload()}}},[t._v("Создать игру")])])])])],1)},Pt=[],Rt=(n("a4d3"),n("e01a"),{name:"Create",components:{Header:P,Input:w,Preloader:Q},props:{},data:function(){return{header:!0,show_1:!0,show_2:!1,show_3:!1,file:"",blocked:!0,clientUid:"",description:"",likes:[],logo:null,logos:[],music:"",name:"",played:0,soundless:!1,visible:!1,answers:[],penalty:0,points:0,position:0,postMedia:null,postType:0,preMedia:null,preType:0,text:""}},methods:{getName:function(t){this.name=t},getDescription:function(t){this.description=t},boom:function(){console.log("Чпоок1!"),this.show_1=!1,this.show_2=!0},tram:function(){console.log("Чпоок2!"),this.show_1=!1,this.show_2=!1,this.show_3=!0},handleFileUpload:function(){this.file=this.$refs.file.files[0]},upload:function(){var t=C.a.storage(),e=t.ref(),n={contentType:this.file.type},r=e.child("games/"+this.file.name).put(this.file,n);r.on(C.a.storage.TaskEvent.STATE_CHANGED,(function(t){var e=t.bytesTransferred/t.totalBytes*100;switch(console.log("Upload is "+e+"% done"),t.state){case C.a.storage.TaskState.PAUSED:console.log("Upload is paused");break;case C.a.storage.TaskState.RUNNING:console.log("Upload is running...");break}}),(function(t){switch(t.code){case"storage/unauthorized":console.log("User does not have permission to access the object");break;case"storage/canceled":console.log("User canceled the upload");break;case"storage/unknown":console.log("Unknown error occurred, inspect error.serverResponse");break}}),(function(){console.log("Upload completed successfully, now we can get the download URL"),r.snapshot.ref.getDownloadURL().then((function(t){console.log("File available at",t)}))}))}},computed:{},created:function(){},mounted:function(){var t=C.a.auth();console.log(t)}}),qt=Rt,$t=(n("0d7c"),Object(c["a"])(qt,Nt,Pt,!1,null,"7632d73c",null)),Mt=$t.exports;r["default"].use(d["a"]),r["default"].use(f["a"]);var Bt=new f["a"]({mode:"history",routes:[{path:"/",name:"Games",component:X,props:!0},{path:"/games",name:"Games",component:X,props:!0},{path:"/settings",name:"Settings",component:at,props:!0},{path:"/all",name:"All",component:dt,props:!0},{path:"/favorites",name:"Favorites",component:vt,props:!0},{path:"/mine",name:"Mine",component:yt,props:!0},{path:"/downloaded",name:"Downloaded",component:xt,props:!0},{path:"/game/ :name",name:"Game",component:At,props:!0},{path:"/created",name:"Create",component:Mt,props:!0},{path:"*",redirect:"/"}]});n("e71f");r["default"].use(d["a"]);var Ht=new d["a"].Store({state:{user:{},game:{},games:[],acunte:[],logo:[],logos:[],background:[],likes:[],media:[],answer:null,defaultBackground:"https://bitvaumov-4a5e6.firebaseapp.com/assets/background.png?alt=media&JbPchyJe"},getters:{currentUserEmail:function(t){return t.user.currentUser.email},currentUserId:function(t){return t.user.currentUser.uid},preMedia:function(t){return t.media.questions[0].preMedia},postMedia:function(t){return t.media.questions[0].postMedia},likesFilterToVisible:function(t){return t.likes.filter((function(t){return t.settings.visible}))},logoFilterToVisible:function(t){return t.logo.filter((function(t){return t.settings.visible}))}},mutations:{SET_GAMES:function(t,e){t.games=e},SET_ACUNTE:function(t,e){t.acunte=e},SET_LOGO:function(t,e){t.logo=e},SET_LOGOS:function(t,e){t.logos=e},SET_BACKGROUND:function(t,e){t.background=e},SET_MEDIA:function(t,e){t.media=e},SET_LIKE:function(t,e){t.likes=e},SET_DISLIKE:function(t,e){t.likes=e},SET_USER:function(t,e){t.user=e},SET_ANSWER:function(t,e){t.answer=e}},actions:{initGames:function(t){var e=t.commit;C.a.firestore().collection("games").get().then((function(t){var n=t.docs.map((function(t){return t.data()}));e("SET_GAMES",n)}))},initAcunte:function(t){var e=t.commit;C.a.firestore().collection("accounts").get().then((function(t){var n=t.docs.map((function(t){return t.data()}));e("SET_ACUNTE",n)}))},initLogo:function(t){var e=t.commit,n=C.a.storage(),r=(n.ref(),function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"GetGamesInfo",value:function(e,n){var r=this;return new Promise((function(s){r.db.firestore().collection(e).get().then((function(a){for(var i=a.docs,o=i.filter(n),c=o.map((function(t){return t.data()})),u=[],l=0;l<o.length;l++)(function(){var n=Object(x["a"])(regeneratorRuntime.mark((function n(r,a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:setTimeout((function(){C.a.firestore().collection(e).doc(o[r].id).collection("questions").get().then((function(e){var n=e.docs.map((function(t){return t.data()})),i=new t(a);function l(t){return d.apply(this,arguments)}function d(){return d=Object(x["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Promise((function(t){C.a.storage().ref().child(c[r].logo).getDownloadURL().then((function(e){t(e)})).catch((function(t){}))})),t.next=3,n;case 3:c[r].logo=t.sent;case 4:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}l(i),u.push({questions:n,settings:c[r]}),r>=o.length-1&&s(u)}))}),10);case 1:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}})()(l,r.db)}))}))}}]),t}()),s=new r(C.a);s.GetGamesInfo("games",(function(t){return t})).then((function(t){e("SET_LOGO",t)}))},initLogos:function(t){var e=t.commit,n=C.a.storage(),r=(n.ref(),function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"GetGamesInfo",value:function(e,n){var r=this;return new Promise((function(s){r.db.firestore().collection(e).get().then((function(a){for(var i=a.docs,o=i.filter(n),c=o.map((function(t){return t.data()})),u=[],l=0;l<o.length;l++)(function(){var n=Object(x["a"])(regeneratorRuntime.mark((function n(r,a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:setTimeout((function(){C.a.firestore().collection(e).doc(o[r].id).collection("questions").get().then((function(e){var n=e.docs.map((function(t){return t.data()})),i=new t(a);function l(t){return d.apply(this,arguments)}function d(){return d=Object(x["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Promise((function(t){for(var e=[],n=0;n<c[r].logos.length;n++)(function(){var n=Object(x["a"])(regeneratorRuntime.mark((function n(s){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:setTimeout((function(){C.a.storage().ref().child(c[r].logos[s]).getDownloadURL().then((function(n){e.push(n),e.length>=c[r].logos.length-1&&t(e)}))}),10);case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}})()(n)})),t.next=3,n;case 3:c[r].logo=t.sent;case 4:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}l(i),u.push({questions:n,settings:c[r]}),r>=o.length-1&&s(u)}))}),10);case 1:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}})()(l,r.db)}))}))}}]),t}()),s=new r(C.a);s.GetGamesInfo("games",(function(t){return t})).then((function(t){e("SET_LOGOS",t)}))},initBackground:function(t){var e=t.commit,n=C.a.storage(),r=(n.ref(),function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"GetGamesInfo",value:function(e,n){var r=this;return new Promise((function(s){r.db.firestore().collection(e).get().then((function(a){for(var i=a.docs,o=i.filter(n),c=o.map((function(t){return t.data()})),u=[],l=0;l<o.length;l++)(function(){var n=Object(x["a"])(regeneratorRuntime.mark((function n(r,a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:setTimeout((function(){C.a.firestore().collection(e).doc(o[r].id).collection("questions").get().then((function(e){var n=e.docs.map((function(t){return t.data()})),i=new t(a);function l(t){return d.apply(this,arguments)}function d(){return d=Object(x["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Promise((function(t){C.a.storage().ref().child(c[r].background).getDownloadURL().then((function(e){t(e)})).catch((function(t){}))})),t.next=3,n;case 3:c[r].logo=t.sent;case 4:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}l(i),u.push({questions:n,settings:c[r]}),r>=o.length-1&&s(u)}))}),10);case 1:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}})()(l,r.db)}))}))}}]),t}()),s=new r(C.a);s.GetGamesInfo("games",(function(t){return t})).then((function(t){e("SET_BACKGROUND",t)}))},initLike:function(t){var e=this,n=(t.commit,function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"SetLike",value:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e,n){var r,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){s.db.firestore().collection("games").where("name","==",e).get().then((function(e){t(e.docs[0].id)}))}));case 2:r=t.sent,this.db.firestore().collection("games").doc(r).update({likes:C.a.firestore.FieldValue.arrayUnion(n)});case 4:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}()),r=new n(C.a);r.SetLike(this.game.name,"EUKMFWmEkMxOFxYK2Uf3rIkvgn1").then((function(t){e.$store.commit(" SET_LIKE",t)}))},initDisLike:function(t){var e=this,n=(t.commit,function(){function t(e){Object(O["a"])(this,t),this.db=e}return Object(L["a"])(t,[{key:"RemoveLike",value:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e,n){var r,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){s.db.firestore().collection("games").where("name","==",e).get().then((function(e){t(e.docs[0].id)}))}));case 2:r=t.sent,this.db.firestore().collection("games").doc(r).update({likes:C.a.firestore.FieldValue.arrayRemove(n)});case 4:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}()),r=new n(C.a);r.RemoveLike(this.game.name,"EUKMFWmEkMxOFxYK2Uf3rIkvgn1").then((function(t){e.$store.commit(" SET_DISLIKE",t)}))}}}),Vt=n("ecee"),Dt=n("c074"),zt=n("ad3d"),Kt=n("9483");Object(Kt["a"])("".concat("/headtohead/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),r["default"].use(d["a"]);var Zt="",Qt=C.a.initializeApp({apiKey:"AIzaSyD6U6VoaJwzGDbKedf6j5D6CRDcBY8SZ1Q",projectId:"historical-9258a",authDomain:"https://historical-9258a.firebaseio.com",databaseURL:"https://historical-9258a.firebaseio.com",storageBucket:"historical-9258a.appspot.com",messagingSenderId:"287088369617"});Vt["c"].add({faSave:Dt["j"],faHeart:Dt["h"],faEye:Dt["g"],faPlay:Dt["i"],faCog:Dt["f"],faSignOutAlt:Dt["l"],faArrowLeft:Dt["c"],faTimesCircle:Dt["n"],faArrowCircleLeft:Dt["a"],faArrowCircleRight:Dt["b"],faTimes:Dt["m"],faCircle:Dt["e"],faArrowRight:Dt["d"],faSearch:Dt["k"]}),r["default"].component("font-awesome-icon",zt["a"]),r["default"].config.productionTip=!1;Qt.firestore();Zt||(Zt=new r["default"]({store:Ht,router:Bt,render:function(t){return t(l)}}).$mount("#app"))},5896:function(t,e,n){},6285:function(t,e,n){},6493:function(t,e,n){"use strict";var r=n("c3b5"),s=n.n(r);s.a},7044:function(t,e,n){},"7b46":function(t,e,n){},"857e":function(t,e,n){},a13f:function(t,e,n){},a1a1:function(t,e,n){"use strict";var r=n("e078"),s=n.n(r);s.a},aac9:function(t,e,n){"use strict";var r=n("6285"),s=n.n(r);s.a},c324:function(t,e,n){"use strict";var r=n("0ab4"),s=n.n(r);s.a},c38a:function(t,e,n){},c3b5:function(t,e,n){},c3f6:function(t,e,n){},cfb1:function(t,e,n){},db81:function(t,e,n){"use strict";var r=n("cfb1"),s=n.n(r);s.a},dc09:function(t,e,n){"use strict";var r=n("c38a"),s=n.n(r);s.a},dc64:function(t,e,n){"use strict";var r=n("c3f6"),s=n.n(r);s.a},e078:function(t,e,n){},e4a7:function(t,e,n){"use strict";var r=n("2f28"),s=n.n(r);s.a}});
//# sourceMappingURL=app.f1308c4a.js.map